<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Client Dashboard</title>

  <!-- CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="/pages/dashboard/css/detailsmodal.css">
  <link rel="stylesheet" href="/pages/dashboard/css/base.css">
  <link rel="stylesheet" href="/pages/dashboard/css/dashboard_table.css">
  <link rel="stylesheet" href="/pages/dashboard/css/buttons.css">
  <link rel="stylesheet" href="/pages/dashboard/css/doc-modal.css">
  <link rel="stylesheet" href="/pages/dashboard/css/navbar.css">
  <link rel="stylesheet" href="/pages/dashboard/css/sidebar-cards.css">
  <link rel="stylesheet" href="/pages/dashboard/css/submitmodal.css">
  <link rel="stylesheet" href="/pages/dashboard/css/sub-status.css">
  <link rel="stylesheet" href="/pages/dashboard/css/welcome.css">
  <link rel="stylesheet" href="/pages/dashboard/css/toast.css">
  <link rel="stylesheet" href="/pages/dashboard/css/editmodal.css">
  <link rel="stylesheet" href="/pages/dashboard/css/hint.css">
  <link rel="stylesheet" href="/pages/dashboard/css/profile.css">
  <link rel="stylesheet" href="/pages/dashboard/css/notif.css">

  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

  <!-- JS Modules -->
  <script type="module" src="/pages/dashboard/auth-guard.js" defer></script>
  <script type="module" src="/pages/dashboard/dashboard-table.js" defer></script>
  <script type="module" src="/pages/dashboard/document-upload.js" defer></script>
  <script type="module" src="/pages/dashboard/dashboard-table.js" defer></script>
  <script type="module" src="/pages/dashboard/inquiry-submit.js" defer></script>
  <script type="module" src="/pages/dashboard/welcomeUser.js" defer></script>
  <script type="module" src="/pages/dashboard/logout.js" defer></script>
  <script type="module" src="/pages/dashboard/maxsub.js" defer></script>
  <script type="module" src="/pages/dashboard/toast.js" defer></script>
  <script type="module" src="/pages/dashboard/inquiry-btn.js" defer></script>
  <script type="module" src="/pages/dashboard/changepass.js" defer></script>
  <script type="module" src="/pages/dashboard/notif.js" defer></script>



</head>

<body>

  <!-- Navbar -->
  <nav class="navbar">
    <div class="nav-left">
      <div class="logo">
        <i class="fas fa-map-marked-alt"></i> Rafallo Survey Services
      </div>
    </div>

    <div class="nav-right">
      <!-- Notification Dropdown -->
      <div class="notification-dropdown">
        <img src="/pages/dashboard/css/bellIcon.png" alt="Bell Icon" class="nav-icon bell-icon" id="bellIcon">
        <span class="notification-badge" id="notificationBadge" style="display: none;">0</span>
        <div class="notification-dropdown-menu" id="notificationDropdown">
          <div class="notification-header">
            <h4>Notifications</h4>
            <button id="markAllRead" class="mark-read-btn">Mark all as read</button>
          </div>
          <div class="notification-list" id="notificationList">
            <p class="no-notifications">No notifications</p>
          </div>
        </div>
      </div>

      <!-- Profile Dropdown -->
      <div class="profile-dropdown">
        <img src="/pages/dashboard/css/profileLogo.png" alt="User Icon" class="nav-icon profile">
        <div class="dropdown-menu" id="profileDropdown">
          <div class="dropdown-item" id="changePasswordBtn">
            <i class="fas fa-key"></i> Change Password
          </div>
          <div class="dropdown-item" id="logoutBtn">
            <i class="fas fa-sign-out-alt"></i> Logout
          </div>
        </div>
      </div>
    </div>
  </nav>

  <div class="main-content">
    <!-- Header - Always first -->
    <div class="welcome-container">
      <div class="welcome-texts">
        <h2 id="welcomeText">Welcome, <span class="client-name">Client</span></h2>
        <p class="tagline">Track your requests and manage your projects with ease, all with Rafallo Survey Services.</p>
      </div>
      <div class="welcome-logo">
        <img src="/pages/dashboard/css/logo_1.png" alt="Rafallo Logo">
      </div>
    </div>

          <!-- Main content (Table) - Priority on mobile -->
      <main class="main-section">
        <!-- Pending/Update Documents Table -->
        <div class="table-wrapper">
          <h3>Status Inquiry</h3>
          <div class="table-container">
            <table>
              <thead>
                <tr>
                  <th>Request Title</th>
                  <th>Date Submitted</th>
                  <th>Current Status</th>
                  <th>Last Updated</th>
                  <th>Remarks</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody id="pendingTableBody"></tbody>
            </table>
          </div>
        </div>

        <!-- Completed Table -->
        <div class="table-wrapper">
          <h3>Completed</h3>
          <div class="table-container">
            <table>
              <thead>
                <tr>
                  <th>Request Title</th>
                  <th>Date Submitted</th>
                  <th>Current Status</th>
                  <th>Last Updated</th>
                  <th>Remarks</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody id="completedTableBody"></tbody>
            </table>
          </div>
        </div>

        <!-- Rejected Table -->
        <div class="table-wrapper">
          <h3>Rejected</h3>
          <div class="table-container">
            <table>
              <thead>
                <tr>
                  <th>Request Title</th>
                  <th>Date Submitted</th>
                  <th>Current Status</th>
                  <th>Last Updated</th>
                  <th>Remarks</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody id="rejectedTableBody"></tbody>
            </table>
          </div>
        </div>

        <div class="actions">
          <button id="openModalBtn" class="btn-inquire">Submit Inquiry</button>
        </div>
      </main>
      <!-- Sidebar - Secondary on mobile -->
      <aside class="sidebar">
        <div class="sidebar-cards">
          <!-- Our Services -->
          <div class="glass-card services-card">
            <h3 class="card-title"><i class="fas fa-tools"></i> Our Services</h3>
            <ul class="service-list">
              <li class="hover-tooltip">
                <i class="fas fa-arrows-alt service-icon"></i> Relocation Survey
                <span class="tooltip">Determines new positions for buildings or structures.</span>
              </li>
              <li class="hover-tooltip">
                <i class="fas fa-map-marked-alt service-icon"></i> Boundary Survey
                <span class="tooltip">Establishes the exact legal boundaries of a property.</span>
              </li>
              <li class="hover-tooltip">
                <i class="fas fa-home service-icon"></i> Subdivision Survey
                <span class="tooltip">Involves dividing land into plots for development or
                  sale.</span>
              </li>
              <li class="hover-tooltip">
                <i class="fas fa-mountain service-icon"></i> Topographic Survey
                <span class="tooltip">Maps the contours, elevations, and features of land.</span>
              </li>
              <li class="hover-tooltip">
                <i class="fas fa-object-group service-icon"></i> Consolidation Survey
                <span class="tooltip">Merges multiple parcels of land into a single property
                  unit.</span>
              </li>
              <li class="hover-tooltip">
                <i class="fas fa-cogs service-icon"></i> Engineering Services
                <span class="tooltip">Includes construction planning, design, and technical support
                  for projects.</span>
              </li>
              <li class="hover-tooltip">
                <i class="fas fa-project-diagram service-icon"></i> Parcellary Survey
                <span class="tooltip">Divides land into parcels according to legal boundaries.</span>
              </li>
              <li class="hover-tooltip">
                <i class="fas fa-ruler-combined service-icon"></i> As-Built Survey
                <span class="tooltip">Documents the actual construction of a project compared to the
                  original plans.</span>
              </li>
              <li class="hover-tooltip">
                <i class="fas fa-certificate service-icon"></i> Titling Assistance
                <span class="tooltip">Helps clients secure legal ownership of land through proper
                  documentation.</span>
              </li>
            </ul>
          </div>

          <!-- Contact Us -->
          <div class="glass-card contact-card">
            <h3 class="card-title"><i class="fas fa-phone"></i> Contact Us</h3>
            <div class="contact-list">
              <p><i class="fas fa-phone contact-icon"></i> <span class="contact-text"> (02)8630-2444 | (02) 8289-9674
                </span></p>
              <p><i class="fas fa-mobile-alt contact-icon"></i> <span class="contact-text"> 0917-5047844 |
                  0922-8596601</span></p>
              <p><i class="fas fa-envelope contact-icon"></i> <span
                  class="contact-text">rafallosurveying@gmail.com</span></p>
              <p><i class="fas fa-map-marker-alt contact-icon"></i> <span class="contact-text">RSC Building, 8 Marigman
                  Road, San Roque, Antipolo City</span></p>
              <p><i class="fas fa-clock contact-icon"></i> <span class="contact-text">Mon-Fri: 9AM-5PM</span></p>
            </div>
          </div>

          <!-- About Us -->
          <div class="glass-card about-card">
            <h3 class="card-title"><i class="fas fa-info-circle"></i> About Us</h3>
            <p class="about-text">We are a licensed surveying company established in 1994, providing accurate and
              reliable survey services.</p>
            <ul class="about-features">
              <li><i class="fas fa-check feature-check"></i> Licensed Professionals</li>
              <li><i class="fas fa-check feature-check"></i> Modern Equipment</li>
              <li><i class="fas fa-check feature-check"></i> Fast Turnaround</li>
              <li><i class="fas fa-check feature-check"></i> Competitive Pricing</li>
            </ul>
          </div>
        </div>
      </aside>
    </div>
  </div>

  <!-- Submit Inquiry Modal -->
  <div id="modal" class="modal" style="display: none;">
    <div class="modal-content">
      <span class="close-btn">&times;</span>
      <form id="requestForm">
        <h2>Submit Inquiry</h2>

        <!-- Form Grid -->
        <div class="form-grid">
          <!-- Request Description -->
          <div class="form-group form-full-width">
            <div class="glass-box">
              <label for="requestDescription">Request Description <span class="required">*</span></label>
              <input type="text" id="requestDescription" required placeholder="Describe your request..." />
            </div>
          </div>

          <div class="form-group form-full-width">
            <div class="glass-box">
              <label>
                <input type="checkbox" id="useSameInfo" style="width: auto; margin-right: 8px;">
                <span style="font-weight: normal;">Use my account information (Name, Classification, Contact)</span>
              </label>
            </div>
          </div>


          <!-- Client Info -->
          <div class="form-group">
            <div class="glass-box">
              <label for="clientName">Client Name <span class="required">*</span></label>
              <input type="text" id="clientName" required placeholder="Enter client name" />
            </div>
          </div>

          <!-- Classification -->
          <div class="form-group">
            <div class="glass-box">
              <label for="classification">Classification <span class="required">*</span></label>
              <select id="classification">
                <option value="">Select...</option>
                <option value="Agent">Agent</option>
                <option value="Buyer">Buyer</option>
                <option value="Seller">Seller</option>
                <option value="SPA">SPA</option>
                <option value="Owner">Owner</option>
                <option value="Others">Others</option>
              </select>
              <input type="text" id="classificationCustom" placeholder="Please specify..." />
            </div>
          </div>

          <!-- Contractor Name -->
          <div class="form-group">
            <div class="glass-box">
              <label for="contractorName">Contractor Name</label>
              <div class="contractor-input-container">
                <input type="text" id="contractorName" disabled placeholder="For contractors only" />
                <input type="checkbox" id="enableContractor" title="Enable Contractor Fields">
              </div>
              <div class="contractor-note">Check the box to enable contractor fields</div>
            </div>
          </div>

          <!-- Company Name -->
          <div class="form-group">
            <div class="glass-box">
              <label for="companyName">Company Name</label>
              <input type="text" id="companyName" disabled placeholder="Enter company name" />
            </div>
          </div>

          <!-- Representative -->
          <div class="form-group">
            <div class="glass-box">
              <label for="representative">Representative</label>
              <div class="rep-input-container">
                <input type="text" id="representative" disabled placeholder="Enter representative" />
                <input type="checkbox" id="enableRepresentative" title="Enable Representative">
              </div>
              <div class="representative-note">Check the box to enable representative fields</div>
            </div>
          </div>

          <!-- Representative Classification -->
          <div class="form-group">
            <div class="glass-box">
              <label for="repClassification">Rep. Classification</label>
              <select id="repClassification">
                <option value="">Select...</option>
                <option value="Agent">Agent</option>
                <option value="Buyer">Buyer</option>
                <option value="Seller">Seller</option>
                <option value="SPA">SPA</option>
                <option value="Owner">Owner</option>
                <option value="Others">Others</option>
              </select>
              <input type="text" id="repClassificationCustom" placeholder="Please specify..." />
            </div>
          </div>

          <!-- Contact -->
          <div class="form-group">
            <div class="glass-box">
              <label>Contact No. <span class="required">*</span></label>
              <input type="tel" id="contact" maxlength="11" pattern="\d{11}"
                oninput="this.value = this.value.replace(/[^0-9]/g, '')" placeholder="09XXXXXXXXX" />
            </div>
          </div>

          <!-- Location -->
          <div class="form-group">
            <div class="glass-box">
              <label for="location">Location <span class="required">*</span></label>
              <input type="text" id="location" required placeholder="Enter location" />
            </div>
          </div>
        </div>

        <!-- Services Section -->
        <div class="form-group form-full-width">
          <div class="services-box">
            <h3>Types of Service</h3>
            <div class="checkbox-grid">
              <label><input type="checkbox" value="Relocation Survey"> Relocation Survey</label>
              <label><input type="checkbox" value="Boundary Survey"> Boundary Survey</label>
              <label><input type="checkbox" value="Subdivision Survey"> Subdivision Survey</label>
              <label><input type="checkbox" value="Topographic Survey"> Topographic Survey</label>
              <label><input type="checkbox" value="Consolidation Survey"> Consolidation Survey</label>
              <label><input type="checkbox" value="Engineering Services"> Engineering Services</label>
              <label><input type="checkbox" value="Parcellary Survey"> Parcellary Survey</label>
              <label><input type="checkbox" value="As-Built Survey"> As-Built Survey</label>
              <label><input type="checkbox" value="Titling Assistance"> Titling Assistance</label>
              <label><input type="checkbox" value="All"> All</label>
            </div>

          </div>
        </div>

        <!-- Upload Documents -->
        <div class="form-group form-full-width">
          <div class="upload-section">
            <label for="documentUpload">Upload Documents <span class="required">*</span></label>
            <div class="upload-box">
              <input type="file" id="documentUpload" accept=".pdf">
              <p>Drag and Drop or <span class="file-chooser">Choose File</span> to Upload</p>
              <small>Only PDF files allowed. Max 5MB per file.</small>
            </div>
            <div id="uploadedFilesList" class="uploaded-files-list"></div>
          </div>
        </div>

        <div id="submissionStatus" class="submission-status-badge"></div>

        <!-- Submit Button -->
        <div class="submit-container">
          <button type="submit" class="submit-btn">Submit Inquiry</button>
        </div>

    </div>
    </form>
  </div>
  </div>
  <div id="toast-container" class="toast-container"></div>

  <div id="changePasswordModal" class="modal" style="display: none;">
    <div class="modal-content" style="max-width: 400px;">
      <span class="close-btn" onclick="$('#changePasswordModal').hide()">&times;</span>
      <h2>Change Password</h2>
      <form id="changePasswordForm">
        <div class="form-group">
          <label for="currentPassword">Current Password</label>
          <div class="password-container">
            <input type="password" id="currentPassword" required placeholder="Enter current password">
            <i class="fa-solid fa-eye-slash" id="toggleCurrentPassword"></i>
          </div>
        </div>

        <div class="form-group">
          <label for="newPassword">New Password</label>
          <div class="password-container">
            <input type="password" id="newPassword" required placeholder="Enter new password">
            <i class="fa-solid fa-eye-slash" id="toggleNewPassword"></i>
          </div>
        </div>

        <div class="form-group">
          <label for="confirmPassword">Confirm New Password</label>
          <div class="password-container">
            <input type="password" id="confirmPassword" required placeholder="Confirm new password">
            <i class="fa-solid fa-eye-slash" id="toggleConfirmPassword"></i>
          </div>
        </div>

        <button type="submit" class="submit-btn">Update Password</button>
      </form>
    </div>
  </div>

</body>

</html>